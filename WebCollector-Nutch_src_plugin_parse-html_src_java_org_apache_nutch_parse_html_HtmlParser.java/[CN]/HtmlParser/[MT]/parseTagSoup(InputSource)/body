{
  HTMLDocumentImpl doc=new HTMLDocumentImpl();
  DocumentFragment frag=doc.createDocumentFragment();
  DOMBuilder builder=new DOMBuilder(doc,frag);
  org.ccil.cowan.tagsoup.Parser reader=new org.ccil.cowan.tagsoup.Parser();
  reader.setContentHandler(builder);
  reader.setFeature(org.ccil.cowan.tagsoup.Parser.ignoreBogonsFeature,true);
  reader.setFeature(org.ccil.cowan.tagsoup.Parser.bogonsEmptyFeature,false);
  reader.setProperty("http://xml.org/sax/properties/lexical-handler",builder);
  reader.parse(input);
  return frag;
}
