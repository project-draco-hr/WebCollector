{
  if ((agentName == null) || (agentName.trim().length() == 0)) {
    if (LOGGER.isErrorEnabled()) {
      LOGGER.error("No User-Agent string set (http.agent.name)!");
    }
  }
  StringBuffer buf=new StringBuffer();
  buf.append(agentName);
  if (agentVersion != null) {
    buf.append("/");
    buf.append(agentVersion);
  }
  if (((agentDesc != null) && (agentDesc.length() != 0)) || ((agentEmail != null) && (agentEmail.length() != 0)) || ((agentURL != null) && (agentURL.length() != 0))) {
    buf.append(" (");
    if ((agentDesc != null) && (agentDesc.length() != 0)) {
      buf.append(agentDesc);
      if ((agentURL != null) || (agentEmail != null))       buf.append("; ");
    }
    if ((agentURL != null) && (agentURL.length() != 0)) {
      buf.append(agentURL);
      if (agentEmail != null)       buf.append("; ");
    }
    if ((agentEmail != null) && (agentEmail.length() != 0))     buf.append(agentEmail);
    buf.append(")");
  }
  return buf.toString();
}
