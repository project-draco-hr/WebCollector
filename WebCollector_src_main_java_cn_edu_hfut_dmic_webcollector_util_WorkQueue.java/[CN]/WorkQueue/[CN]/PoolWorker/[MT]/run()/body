{
  Runnable r;
  while (true) {
synchronized (queue) {
      while (queue.isEmpty()) {
        try {
          queue.wait();
        }
 catch (        InterruptedException ignored) {
        }
      }
      r=(Runnable)queue.removeFirst();
      status=1;
    }
    try {
      r.run();
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
 finally {
      status=0;
    }
  }
}
