{
  try {
    DocumentBuilderFactory factory=DocumentBuilderFactory.newInstance();
    factory.setIgnoringComments(true);
    DocumentBuilder builder=factory.newDocumentBuilder();
    Document document=builder.parse(new InputSource(input));
    Element root=document.getDocumentElement();
    if (root != null && root.getTagName().equals("domains")) {
      Element tlds=(Element)root.getElementsByTagName("tlds").item(0);
      Element suffixes=(Element)root.getElementsByTagName("suffixes").item(0);
      readITLDs(tldEntries,(Element)tlds.getElementsByTagName("itlds").item(0));
      readGTLDs(tldEntries,(Element)tlds.getElementsByTagName("gtlds").item(0));
      readCCTLDs(tldEntries,(Element)tlds.getElementsByTagName("cctlds").item(0));
      readSuffixes(tldEntries,suffixes);
    }
 else {
      throw new IOException("xml file is not valid");
    }
  }
 catch (  ParserConfigurationException ex) {
    LOG.warn(StringUtils.stringifyException(ex));
    throw new IOException(ex.getMessage());
  }
catch (  SAXException ex) {
    LOG.warn(StringUtils.stringifyException(ex));
    throw new IOException(ex.getMessage());
  }
}
