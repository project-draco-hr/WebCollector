{
  String commandPath=null;
  String filePath=null;
  int timeout=10;
  String usage="Usage: CommandRunner [-timeout timeoutSecs] commandPath filePath";
  if (args.length < 2) {
    System.err.println(usage);
    System.exit(-1);
  }
  for (int i=0; i < args.length; i++) {
    if (args[i].equals("-timeout")) {
      timeout=Integer.parseInt(args[++i]);
      ;
    }
 else     if (i != args.length - 2) {
      System.err.println(usage);
      System.exit(-1);
    }
 else {
      commandPath=args[i];
      filePath=args[++i];
    }
  }
  CommandRunner cr=new CommandRunner();
  cr.setCommand(commandPath);
  cr.setInputStream(new java.io.FileInputStream(filePath));
  cr.setStdErrorStream(System.err);
  cr.setStdOutputStream(System.out);
  cr.setTimeout(timeout);
  cr.evaluate();
  System.err.println("output value: " + cr.getExitValue());
}
