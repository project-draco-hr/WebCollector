{
  doc.traverse(new NodeVisitor(){
    @Override public void head(    Node node,    int i){
      if (node instanceof TextNode) {
        TextNode tNode=(TextNode)node;
        addTextNode(tNode);
      }
    }
    @Override public void tail(    Node node,    int i){
    }
  }
);
  for (  Map.Entry<String,ArrayList<CountInfo>> entry : countMap.entrySet()) {
    ComputeInfo computeInfo=getComputeInfo(entry.getValue());
    computeMap.put(entry.getKey(),computeInfo);
  }
  for (  TextNode tNode : tNodeList) {
    String xpath=xpathMap.get(tNode);
    double etpr=computeMap.get(xpath).etpr;
    etprList.add(etpr);
  }
  gaussEtprList=GaussSmooth.gaussSmooth(etprList,1);
  threshold=computeThreshold();
}
