{
  File directory=new File(name);
  if (!directory.isAbsolute()) {
    URL url=PluginManifestParser.class.getClassLoader().getResource(name);
    if (url == null && directory.exists() && directory.isDirectory() && directory.listFiles().length > 0) {
      return directory;
    }
 else     if (url == null) {
      LOG.warn("Plugins: directory not found: " + name);
      return null;
    }
 else     if (!"file".equals(url.getProtocol())) {
      LOG.warn("Plugins: not a file: url. Can't load plugins from: " + url);
      return null;
    }
    String path=url.getPath();
    if (WINDOWS && path.startsWith("/"))     path=path.substring(1);
    try {
      path=URLDecoder.decode(path,"UTF-8");
    }
 catch (    UnsupportedEncodingException e) {
    }
    directory=new File(path);
  }
 else   if (!directory.exists()) {
    LOG.warn("Plugins: directory not found: " + name);
    return null;
  }
  return directory;
}
