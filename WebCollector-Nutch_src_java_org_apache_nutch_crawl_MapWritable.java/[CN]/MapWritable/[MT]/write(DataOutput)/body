{
  out.writeInt(size());
  if (size() > 0) {
    createInternalIdClassEntries();
    out.writeByte(fIdCount);
    if (fIdCount > 0) {
      ClassIdEntry entry=fIdFirst;
      while (entry != null) {
        out.writeByte(entry.fId);
        Text.writeString(out,entry.fclazz.getName());
        entry=entry.fNextIdEntry;
      }
    }
    KeyValueEntry entry=fFirst;
    while (entry != null) {
      out.writeByte(entry.fKeyClassId);
      out.writeByte(entry.fValueClassId);
      entry.fKey.write(out);
      entry.fValue.write(out);
      entry=entry.fNextEntry;
    }
  }
}
