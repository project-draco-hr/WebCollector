{
  KeyValueEntry entry=fFirst;
  byte id;
  while (entry != null) {
    id=getClassId(entry.fKey.getClass());
    if (id == -128) {
      id=addIdEntry((byte)(-128 + CLASS_ID_MAP.size() + ++fIdCount),entry.fKey.getClass());
    }
    entry.fKeyClassId=id;
    id=getClassId(entry.fValue.getClass());
    if (id == -128) {
      id=addIdEntry((byte)(-128 + CLASS_ID_MAP.size() + ++fIdCount),entry.fValue.getClass());
    }
    entry.fValueClassId=id;
    entry=entry.fNextEntry;
  }
}
