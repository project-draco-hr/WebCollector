{
  String[] anchors=(inlinks != null ? inlinks.getAnchors() : new String[0]);
  HashSet<String> set=null;
  for (int i=0; i < anchors.length; i++) {
    if (deduplicate) {
      if (set == null)       set=new HashSet<String>();
      String lcAnchor=anchors[i].toLowerCase();
      if (!set.contains(lcAnchor)) {
        doc.add("anchor",anchors[i]);
        set.add(lcAnchor);
      }
    }
 else {
      doc.add("anchor",anchors[i]);
    }
  }
  return doc;
}
