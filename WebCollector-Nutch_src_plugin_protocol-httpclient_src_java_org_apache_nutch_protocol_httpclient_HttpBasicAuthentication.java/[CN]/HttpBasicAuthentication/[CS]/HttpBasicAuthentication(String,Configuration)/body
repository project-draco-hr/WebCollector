{
  setConf(conf);
  this.challenge=challenge;
  credentials=new ArrayList<String>();
  String username=this.conf.get("http.auth.basic." + challenge + ".user");
  String password=this.conf.get("http.auth.basic." + challenge + ".password");
  if (LOG.isTraceEnabled()) {
    LOG.trace("BasicAuthentication challenge is " + challenge);
    LOG.trace("BasicAuthentication username=" + username);
    LOG.trace("BasicAuthentication password=" + password);
  }
  if (username == null) {
    throw new HttpAuthenticationException("Username for " + challenge + " is null");
  }
  if (password == null) {
    throw new HttpAuthenticationException("Password for " + challenge + " is null");
  }
  byte[] credBytes=(username + ":" + password).getBytes();
  credentials.add("Authorization: Basic " + new String(Base64.encodeBase64(credBytes)));
  if (LOG.isTraceEnabled()) {
    LOG.trace("Basic credentials: " + credentials);
  }
}
