{
  while (readLine(in,line,true) != 0) {
    int pos;
    if (((pos=line.indexOf("<!DOCTYPE")) != -1) || ((pos=line.indexOf("<HTML")) != -1) || ((pos=line.indexOf("<html")) != -1)) {
      in.unread(line.substring(pos).getBytes("UTF-8"));
      line.setLength(pos);
      try {
        processHeaderLine(line);
      }
 catch (      Exception e) {
        Http.LOG.warn("Error: ",e);
      }
      return;
    }
    processHeaderLine(line);
  }
}
