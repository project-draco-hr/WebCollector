{
  URL _URL=new URL(url);
  HttpURLConnection con;
  if (proxy == null) {
    con=(HttpURLConnection)_URL.openConnection();
  }
 else {
    con=(HttpURLConnection)_URL.openConnection(proxy);
  }
  con.setDoInput(true);
  con.setDoOutput(true);
  if (conconfig != null) {
    conconfig.config(con);
  }
  InputStream is;
  if (con.getResponseCode() == 403)   is=con.getErrorStream();
 else   is=con.getInputStream();
  byte[] buf=new byte[2048];
  int read;
  int sum=0;
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  while ((read=is.read(buf)) != -1) {
    if (maxsize > 0) {
      sum=sum + read;
      if (sum > maxsize) {
        read=maxsize - (sum - read);
        bos.write(buf,0,read);
        Log.Infos("cut","cut size to " + maxsize);
        break;
      }
    }
    bos.write(buf,0,read);
  }
  is.close();
  Page page=new Page();
  page.content=bos.toByteArray();
  page.url=url;
  page.headers=con.getHeaderFields();
  return page;
}
