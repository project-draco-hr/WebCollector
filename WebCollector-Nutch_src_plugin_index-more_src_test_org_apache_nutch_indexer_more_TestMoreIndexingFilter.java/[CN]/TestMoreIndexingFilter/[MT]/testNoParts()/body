{
  Configuration conf=NutchConfiguration.create();
  conf.setBoolean("moreIndexingFilter.indexMimeTypeParts",false);
  MoreIndexingFilter filter=new MoreIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  ParseImpl parse=new ParseImpl("foo bar",new ParseData());
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),new CrawlDatum(),new Inlinks());
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue(doc.getFieldNames().contains("type"));
  Assert.assertEquals(1,doc.getField("type").getValues().size());
  Assert.assertEquals("text/html",doc.getFieldValue("type"));
}
