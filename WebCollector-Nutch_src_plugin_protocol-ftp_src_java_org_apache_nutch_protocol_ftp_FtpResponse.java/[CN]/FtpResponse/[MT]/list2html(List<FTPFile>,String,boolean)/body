{
  StringBuffer x=new StringBuffer("<html><head>");
  x.append("<title>Index of " + path + "</title></head>\n");
  x.append("<body><h1>Index of " + path + "</h1><pre>\n");
  if (includeDotDot) {
    x.append("<a href='../'>../</a>\t-\t-\t-\n");
  }
  for (int i=0; i < list.size(); i++) {
    FTPFile f=(FTPFile)list.get(i);
    String name=f.getName();
    String time=HttpDateFormat.toString(f.getTimestamp());
    if (f.isDirectory()) {
      if (name.equals(".") || name.equals(".."))       continue;
      x.append("<a href='" + name + "/"+ "'>"+ name+ "/</a>\t");
      x.append(time + "\t-\n");
    }
 else     if (f.isFile()) {
      x.append("<a href='" + name + "'>"+ name+ "</a>\t");
      x.append(time + "\t" + f.getSize()+ "\n");
    }
 else {
    }
  }
  x.append("</pre></body></html>\n");
  return new String(x).getBytes();
}
