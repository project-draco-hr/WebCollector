{
  Options options=new Options();
  OptionBuilder.withArgName("help");
  OptionBuilder.withDescription("show this help message");
  Option helpOpts=OptionBuilder.create("help");
  options.addOption(helpOpts);
  OptionBuilder.withArgName("urls");
  OptionBuilder.hasArg();
  OptionBuilder.withDescription("the urls file to check");
  Option urlOpts=OptionBuilder.create("urls");
  options.addOption(urlOpts);
  OptionBuilder.withArgName("numThreads");
  OptionBuilder.hasArgs();
  OptionBuilder.withDescription("the number of threads to use");
  Option numThreadOpts=OptionBuilder.create("numThreads");
  options.addOption(numThreadOpts);
  CommandLineParser parser=new GnuParser();
  try {
    CommandLine line=parser.parse(options,args);
    if (line.hasOption("help") || !line.hasOption("urls")) {
      HelpFormatter formatter=new HelpFormatter();
      formatter.printHelp("ResolveUrls",options);
      return;
    }
    String urls=line.getOptionValue("urls");
    int numThreads=100;
    String numThreadsStr=line.getOptionValue("numThreads");
    if (numThreadsStr != null) {
      numThreads=Integer.parseInt(numThreadsStr);
    }
    ResolveUrls resolve=new ResolveUrls(urls,numThreads);
    resolve.resolveUrls();
  }
 catch (  Exception e) {
    LOG.error("ResolveUrls: " + StringUtils.stringifyException(e));
  }
}
