{
  List<Extension> extList=new ArrayList<Extension>();
  if (plugins != null) {
    for (    String parsePluginId : plugins) {
      Extension ext=getExtension(extensions,parsePluginId,contentType);
      if (ext == null) {
        ext=getExtension(extensions,parsePluginId);
        if (LOG.isWarnEnabled()) {
          if (ext != null) {
            LOG.warn("ParserFactory:Plugin: " + parsePluginId + " mapped to contentType "+ contentType+ " via parse-plugins.xml, but "+ "its plugin.xml "+ "file does not claim to support contentType: "+ contentType);
          }
 else {
            LOG.warn("ParserFactory: Plugin: " + parsePluginId + " mapped to contentType "+ contentType+ " via parse-plugins.xml, but not enabled via "+ "plugin.includes in nutch-default.xml");
          }
        }
      }
      if (ext != null) {
        extList.add(ext);
      }
    }
  }
 else {
    for (int i=0; i < extensions.length; i++) {
      if ("*".equals(extensions[i].getAttribute("contentType"))) {
        extList.add(0,extensions[i]);
      }
 else       if (extensions[i].getAttribute("contentType") != null && contentType.matches(escapeContentType(extensions[i].getAttribute("contentType")))) {
        extList.add(extensions[i]);
      }
    }
    if (extList.size() > 0) {
      if (LOG.isInfoEnabled()) {
        StringBuffer extensionsIDs=new StringBuffer("[");
        boolean isFirst=true;
        for (        Extension ext : extList) {
          if (!isFirst)           extensionsIDs.append(" - ");
 else           isFirst=false;
          extensionsIDs.append(ext.getId());
        }
        extensionsIDs.append("]");
        LOG.info("The parsing plugins: " + extensionsIDs.toString() + " are enabled via the plugin.includes system "+ "property, and all claim to support the content type "+ contentType+ ", but they are not mapped to it  in the "+ "parse-plugins.xml file");
      }
    }
 else     if (LOG.isDebugEnabled()) {
      LOG.debug("ParserFactory:No parse plugins mapped or enabled for " + "contentType " + contentType);
    }
  }
  return (extList.size() > 0) ? extList : null;
}
