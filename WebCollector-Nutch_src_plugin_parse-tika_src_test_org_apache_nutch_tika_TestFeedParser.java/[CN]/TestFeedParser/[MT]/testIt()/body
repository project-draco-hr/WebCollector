{
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    ParseData theParseData=parse.getData();
    Outlink[] theOutlinks=theParseData.getOutlinks();
    Assert.assertTrue("There aren't 2 outlinks read!",theOutlinks.length == 2);
    boolean hasLink1=false, hasLink2=false;
    for (int j=0; j < theOutlinks.length; j++) {
      if (theOutlinks[j].getToUrl().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
      if (theOutlinks[j].getToUrl().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
    }
    if (!hasLink1 || !hasLink2) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}
