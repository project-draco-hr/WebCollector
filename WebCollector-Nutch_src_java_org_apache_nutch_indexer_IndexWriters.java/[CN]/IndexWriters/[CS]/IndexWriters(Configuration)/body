{
  ObjectCache objectCache=ObjectCache.get(conf);
synchronized (objectCache) {
    this.indexWriters=(IndexWriter[])objectCache.getObject(IndexWriter.class.getName());
    if (this.indexWriters == null) {
      try {
        ExtensionPoint point=PluginRepository.get(conf).getExtensionPoint(IndexWriter.X_POINT_ID);
        if (point == null)         throw new RuntimeException(IndexWriter.X_POINT_ID + " not found.");
        Extension[] extensions=point.getExtensions();
        HashMap<String,IndexWriter> indexerMap=new HashMap<String,IndexWriter>();
        for (int i=0; i < extensions.length; i++) {
          Extension extension=extensions[i];
          IndexWriter writer=(IndexWriter)extension.getExtensionInstance();
          LOG.info("Adding " + writer.getClass().getName());
          if (!indexerMap.containsKey(writer.getClass().getName())) {
            indexerMap.put(writer.getClass().getName(),writer);
          }
        }
        objectCache.setObject(IndexWriter.class.getName(),indexerMap.values().toArray(new IndexWriter[0]));
      }
 catch (      PluginRuntimeException e) {
        throw new RuntimeException(e);
      }
      this.indexWriters=(IndexWriter[])objectCache.getObject(IndexWriter.class.getName());
    }
  }
}
