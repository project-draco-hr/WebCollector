{
  LOG.info("Test state notmodified");
  Configuration conf=CrawlDBTestUtil.createConfiguration();
  for (  String sched : schedules) {
    String desc="test notmodified by signature comparison + " + sched;
    LOG.info(desc);
    conf.set("db.fetch.schedule.class","org.apache.nutch.crawl." + sched);
    ContinuousCrawlTestUtil crawlUtil=new CrawlTestFetchNotModified(conf);
    if (!crawlUtil.run(20)) {
      fail("failed: " + desc);
    }
  }
  for (  String sched : schedules) {
    String desc="test notmodified by HTTP 304 + " + sched;
    LOG.info(desc);
    conf.set("db.fetch.schedule.class","org.apache.nutch.crawl." + sched);
    ContinuousCrawlTestUtil crawlUtil=new CrawlTestFetchNotModifiedHttp304(conf);
    if (!crawlUtil.run(20)) {
      fail("failed: " + desc);
    }
  }
}
