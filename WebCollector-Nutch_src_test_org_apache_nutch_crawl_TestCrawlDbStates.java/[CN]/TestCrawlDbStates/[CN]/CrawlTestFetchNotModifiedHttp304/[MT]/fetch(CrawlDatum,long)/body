{
  lastFetchTime=currFetchTime;
  currFetchTime=currentTime;
  previousDbState=datum.getStatus();
  lastSignature=datum.getSignature();
  int httpCode;
  if (datum.getModifiedTime() == 0 && datum.getSignature() == null || (currFetchTime - firstFetchTime) > (duration / 2)) {
    firstFetchTime=currFetchTime;
    httpCode=200;
    datum.setStatus(STATUS_FETCH_SUCCESS);
    changeContent();
  }
 else {
    httpCode=304;
    datum.setStatus(STATUS_FETCH_NOTMODIFIED);
  }
  LOG.info("fetched with HTTP " + httpCode + " => "+ getStatusName(datum.getStatus()));
  datum.setFetchTime(currentTime);
  return datum;
}
