{
  try {
    String domain=URLUtil.getDomainName(url).toLowerCase().trim();
    String host=URLUtil.getHost(url);
    String suffix=null;
    DomainSuffix domainSuffix=URLUtil.getDomainSuffix(url);
    if (domainSuffix != null) {
      suffix=domainSuffix.getDomain();
    }
    if (domainSet.contains(suffix) || domainSet.contains(domain) || domainSet.contains(host)) {
      return null;
    }
    return url;
  }
 catch (  Exception e) {
    LOG.error("Could not apply filter on url: " + url + "\n"+ org.apache.hadoop.util.StringUtils.stringifyException(e));
    return null;
  }
}
