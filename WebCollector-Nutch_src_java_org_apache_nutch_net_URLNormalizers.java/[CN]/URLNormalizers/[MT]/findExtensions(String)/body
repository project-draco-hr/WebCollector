{
  String[] orders=null;
  String orderlist=conf.get("urlnormalizer.order." + scope);
  if (orderlist == null)   orderlist=conf.get("urlnormalizer.order");
  if (orderlist != null && !orderlist.trim().equals("")) {
    orders=orderlist.trim().split("\\s+");
  }
  String scopelist=conf.get("urlnormalizer.scope." + scope);
  Set<String> impls=null;
  if (scopelist != null && !scopelist.trim().equals("")) {
    String[] names=scopelist.split("\\s+");
    impls=new HashSet<String>(Arrays.asList(names));
  }
  Extension[] extensions=this.extensionPoint.getExtensions();
  HashMap<String,Extension> normalizerExtensions=new HashMap<String,Extension>();
  for (int i=0; i < extensions.length; i++) {
    Extension extension=extensions[i];
    if (impls != null && !impls.contains(extension.getClazz()))     continue;
    normalizerExtensions.put(extension.getClazz(),extension);
  }
  List<Extension> res=new ArrayList<Extension>();
  if (orders == null) {
    res.addAll(normalizerExtensions.values());
  }
 else {
    for (int i=0; i < orders.length; i++) {
      Extension e=normalizerExtensions.get(orders[i]);
      if (e != null) {
        res.add(e);
        normalizerExtensions.remove(orders[i]);
      }
    }
    res.addAll(normalizerExtensions.values());
  }
  return res;
}
