{
  this.conf=conf;
  this.extensionPoint=PluginRepository.get(conf).getExtensionPoint(URLNormalizer.X_POINT_ID);
  ObjectCache objectCache=ObjectCache.get(conf);
  if (this.extensionPoint == null) {
    throw new RuntimeException("x point " + URLNormalizer.X_POINT_ID + " not found.");
  }
  normalizers=(URLNormalizer[])objectCache.getObject(URLNormalizer.X_POINT_ID + "_" + scope);
  if (normalizers == null) {
    normalizers=getURLNormalizers(scope);
  }
  if (normalizers == EMPTY_NORMALIZERS) {
    normalizers=(URLNormalizer[])objectCache.getObject(URLNormalizer.X_POINT_ID + "_" + SCOPE_DEFAULT);
    if (normalizers == null) {
      normalizers=getURLNormalizers(SCOPE_DEFAULT);
    }
  }
  loopCount=conf.getInt("urlnormalizer.loop.count",1);
}
